const _0x496f1b=_0x3b9e;(function(_0x8e0cf4,_0x5e732e){const _0xe13890=_0x3b9e,_0x9b1656=_0x8e0cf4();while(!![]){try{const _0x317a19=-parseInt(_0xe13890(0x105))/0x1*(-parseInt(_0xe13890(0x106))/0x2)+-parseInt(_0xe13890(0x114))/0x3+parseInt(_0xe13890(0x109))/0x4+-parseInt(_0xe13890(0x118))/0x5+parseInt(_0xe13890(0x111))/0x6*(-parseInt(_0xe13890(0x10d))/0x7)+parseInt(_0xe13890(0x107))/0x8+parseInt(_0xe13890(0x112))/0x9;if(_0x317a19===_0x5e732e)break;else _0x9b1656['push'](_0x9b1656['shift']());}catch(_0x42e45f){_0x9b1656['push'](_0x9b1656['shift']());}}}(_0x2a76,0x56964));let dataLoadedPromise,resolveDataLoaded;function initializeDataLoadPromise(){dataLoadedPromise=new Promise(_0x4928d4=>{resolveDataLoaded=_0x4928d4;});}window['db']=new Dexie(_0x496f1b(0x116));function _0x3b9e(_0x190356,_0xfab25c){const _0x2a76e0=_0x2a76();return _0x3b9e=function(_0x3b9ed4,_0x3c6f12){_0x3b9ed4=_0x3b9ed4-0x102;let _0x424826=_0x2a76e0[_0x3b9ed4];return _0x424826;},_0x3b9e(_0x190356,_0xfab25c);}var db=window['db'];window[_0x496f1b(0x117)]=[];async function resetDatabase(){const _0x784fcc=_0x496f1b;try{return console['log'](_0x784fcc(0x10f)),db[_0x784fcc(0x10b)]()&&db['close'](),await db[_0x784fcc(0x110)](),console[_0x784fcc(0x103)](_0x784fcc(0x115)),await db[_0x784fcc(0x113)](),console[_0x784fcc(0x103)](_0x784fcc(0x102)),!![];}catch(_0x2ec39d){return console[_0x784fcc(0x108)](_0x784fcc(0x10e),_0x2ec39d),![];}}function _0x2a76(){const _0x2b533b=['2998JRsaOg','778416sAZsMk','error','1566108OzsBOm','count','isOpen','✅\x20数据库健康检查通过','7gkWJgO','❌\x20重置数据库失败:','🔄\x20开始重置数据库...','delete','2779938jDPKJm','7972524JwTDAU','open','1795893ElczAK','✅\x20数据库已删除','PhoneChatDB','activeGlobalWorldbooks','142520wuwRJj','apiSettings','chatMessages','✅\x20数据库已重新创建','log','characters','47CXJCva'];_0x2a76=function(){return _0x2b533b;};return _0x2a76();}async function checkDatabaseHealth(){const _0x5ea1a0=_0x496f1b;try{await db['open']();const _0x54a878=[_0x5ea1a0(0x104),_0x5ea1a0(0x11a),_0x5ea1a0(0x119)];for(const _0x6d05f5 of _0x54a878){await db[_0x6d05f5][_0x5ea1a0(0x10a)]();}return console[_0x5ea1a0(0x103)](_0x5ea1a0(0x10c)),!![];}catch(_0x5acc22){return console[_0x5ea1a0(0x108)]('❌\x20数据库健康检查失败:',_0x5acc22),![];}}